(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{356:function(t,s,e){t.exports=e.p+"assets/img/login-get-toeken.671bf138.png"},357:function(t,s,e){t.exports=e.p+"assets/img/test-token.7665c232.png"},377:function(t,s,e){"use strict";e.r(s);var a=e(42),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[t._v("#")]),t._v(" 启动")]),t._v(" "),a("h3",{attrs:{id:"安装-nodejs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-nodejs"}},[t._v("#")]),t._v(" 安装 NodeJS")]),t._v(" "),a("p",[t._v("首先安装 NodeJS，安装很简单无脑下一步就可以。本人使用的版本为"),a("code",[t._v("Node 12.16.1")]),t._v("(其他版本请自行尝试)。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://nodejs.org/zh-cn/download/releases/",target:"_blank",rel:"noopener noreferrer"}},[t._v("NodeJS官网"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"拉取项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拉取项目"}},[t._v("#")]),t._v(" 拉取项目")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 克隆代码\ngit clone https://github.com/KiteWorld/KiteBlog.git\n\n# 进入项目根目录\ncd KiteBlog\n\n# 安装依赖\nnpm i\n\n#启动项目\nnpm run start-dev-win\n\n")])])]),a("h3",{attrs:{id:"导入数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入数据库"}},[t._v("#")]),t._v(" 导入数据库")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("找到项目根目录下的"),a("code",[t._v("kiteblog.sql")]),t._v("文件")])]),t._v(" "),a("li",[a("p",[t._v("本人使用的是"),a("code",[t._v("MySQL 5.7")]),t._v("版本,假设你已经安装。（其他版本的请自行尝试）")])]),t._v(" "),a("li",[a("p",[t._v("创建数据库表并导入数据:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("使用 Navcat (方式一)\n如果你安装了 "),a("code",[t._v("Navcat")]),t._v("之类的可视化管理数据库软件，直接新建一个命名为"),a("code",[t._v("kite_blog")]),t._v("的数据库，字符集为"),a("code",[t._v("utf8mb4")]),t._v("，校对规则为"),a("code",[t._v("utf8mb4_general_ci")]),t._v("。然后导入"),a("code",[t._v("kite_blog.sql")]),t._v("。导入的数据库表里面包含一些初始数据。")])]),t._v(" "),a("li",[a("p",[t._v("命令行的方式 (方式二)")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 连接数据库 mysql -u用户名 -p密码\nmysql -uroot -p123456\n\n# 创建数据库,直接复制三行指令，运行就好\nCREATE DATABASE IF NOT EXISTS kite_blog\nDEFAULT CHARACTER SET utf8mb4 \nDEFAULT COLLATE utf8mb4_general_ci;\n\n# 选择创建的数据库\nuse kite_blog\n\n# 导入数据（会覆盖数据库数据） soucre 加sql文件存放路径\nsource G:/KiteBlog/kite_blog.sql\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"拉取前端代码进行调试、验证-推荐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拉取前端代码进行调试、验证-推荐"}},[t._v("#")]),t._v(" 拉取前端代码进行调试、验证（推荐）")]),t._v(" "),a("p",[t._v("没有意外的话，后端项目已经是可以正常使用的了。但由于后端项目存在 Token 验证，你需要调用登录接口获取到 Token 之后，并携带 Token ，才能请求其他接口。")]),t._v(" "),a("p",[t._v("具体操作参考："),a("RouterLink",{attrs:{to:"/guide/cms.html"}},[t._v("后台管理 CMS")])],1),t._v(" "),a("h3",{attrs:{id:"使用-postman-调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-postman-调试"}},[t._v("#")]),t._v(" 使用 PostMan 调试")]),t._v(" "),a("p",[t._v("如果你对前端代码不感兴趣，可以 PostMan 进行调试验证")]),t._v(" "),a("p",[t._v("登录接口（POST请求）："),a("code",[t._v("http://localhost:1874/auth/adminLogin")])]),t._v(" "),a("p",[t._v("Body携带的JSON :"),a("code",[t._v('{ "jobNo": "100000001", "password": "123123" }')])]),t._v(" "),a("p",[t._v("导入数据库的时候，已经添加了这个账号密码。参考下方图片")]),t._v(" "),a("p",[a("img",{attrs:{src:e(356),alt:"携带Token发请求"}})]),t._v(" "),a("p",[t._v("请求之后，获取 Token ，具体怎么携带 Token请求，可以对照下面的图片")]),t._v(" "),a("p",[a("img",{attrs:{src:e(357),alt:"携带Token发请求"}})]),t._v(" "),a("h2",{attrs:{id:"项目特点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目特点"}},[t._v("#")]),t._v(" 项目特点")]),t._v(" "),a("p",[t._v("Token 生成验证、手写SQL、文件上传、跨域配置、https配置、websocket(配合数据可视化界面，开发中)、生成/开发环境配置...")]),t._v(" "),a("h2",{attrs:{id:"技术栈"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#技术栈"}},[t._v("#")]),t._v(" 技术栈")]),t._v(" "),a("p",[t._v("项目是通过 "),a("a",{attrs:{href:"https://github.com/gitobjects/generator",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("express-generator")]),a("OutboundLink")],1),t._v(" 快速生成的，"),a("code",[t._v("express-generator")]),t._v("与"),a("code",[t._v("Express")]),t._v("的关系，类似于 "),a("code",[t._v("vue-cli")]),t._v(" 和"),a("code",[t._v("vue")]),t._v(" ，也就是脚手架。")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cookie-parser"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~1.4.4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解析Cookie")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"debug"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~2.6.9"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// express-generator生成时自带")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ejs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~2.6.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 模板引擎，express-generator生成时自带")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"express"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~4.16.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//express框架 express-generator生成时自带")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"express-jwt"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^6.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解析验证请求携带的 Token")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"http-errors"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~1.6.3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 处理 http错误的")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jsonwebtoken"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^8.5.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 生成Token。也可以用于验证Token，不给验证没有`express-jwt`简便")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"morgan"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~1.9.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 记录请求日志")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"multer"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^1.4.2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文件上传 只支持表单MIME编码为multipart/form-data类型的数据请求")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mysql"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.18.1"')]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// mysql相关操作")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"nodemon"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.0.6"')]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 热更新，修改了代码不用重新启动项目")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);